var VentasPorMultiploServicio=function(){function n(){}return n.prototype.verificarVentasPorMultiploSkuUm=function(n,t,i,r){var u=new Operacion,f=new VentaPorMultiplo;try{SONDA_DB_Session.transaction(function(e){var o="SELECT M.SALES_BY_MULTIPLE_ID, M.CODE_SKU, M.CODE_PACK_UNIT, M.MULTIPLE FROM SKU_SALES_BY_MULTIPLE_LIST_BY_SKU AS M";o+=" INNER JOIN CLIENTS AS C ON(C.SALES_BY_MULTIPLE_LIST_ID = M.SALES_BY_MULTIPLE_ID)";o+=" WHERE M.CODE_SKU = '"+t.sku+"' AND M.CODE_PACK_UNIT = '"+t.unidadMedidaSeleccionada+"' AND C.CLIENT_ID = '"+n.clientId+"'";e.executeSql(o,[],function(n,r){if(r.rows.length>0){var u=r.rows.item(0);f.codeSku=u.CODE_SKU;f.codePackUnit=u.CODE_PACK_UNIT;f.multiple=parseInt(u.MULTIPLE);i(f)}else f.codeSku=t.sku,f.codePackUnit=t.codePackUnit,f.multiple=0,i(f)},function(n,t){u.codigo=t.code;u.mensaje=t.message;u.resultado=ResultadoOperacionTipo.Error;r(u)})},function(n){u.codigo=-1;u.mensaje=n.message;u.resultado=ResultadoOperacionTipo.Error;r(u)})}catch(e){u.codigo=-1;u.mensaje=e.message;u.resultado=ResultadoOperacionTipo.Error;r(u)}},n.prototype.validarSiTieneVentaPorMultiplo=function(n,t,i,r,u,f){try{i===null||i===undefined?u(!1,i,r):SONDA_DB_Session.transaction(function(f){var e="SELECT SM.SALES_BY_MULTIPLE_ID";e+=" FROM SKU_SALES_BY_MULTIPLE_LIST_BY_SKU SM";e+=" WHERE SM.SALES_BY_MULTIPLE_ID = "+n.salesByMultipleListId;e+=" AND SM.CODE_SKU = '"+t.sku+"'";e+=" AND SM.CODE_PACK_UNIT = '"+i.codePackUnit+"'";f.executeSql(e,[],function(n,t){t.rows.length>0?u(!0,i,r):u(!1,i,r)})},function(n){var t=new Operacion;t.codigo=-1;t.mensaje=n.message;console.log(t);f(t)})}catch(o){var e=new Operacion;e.codigo=-1;e.mensaje="Error al obtneer si usa multiplo: "+o.message;console.log(e.mensaje);f(e)}},n.prototype.obtenerVentaPorMultiploDeSkuConUnidadDeMedida=function(n,t,i,r,u,f){try{SONDA_DB_Session.transaction(function(f){var e="SELECT SM.MULTIPLE";e+=" FROM SKU_SALES_BY_MULTIPLE_LIST_BY_SKU SM";e+=" WHERE SM.SALES_BY_MULTIPLE_ID = "+n.salesByMultipleListId;e+=" AND SM.CODE_SKU = '"+t+"'";e+=" AND SM.CODE_PACK_UNIT = '"+i+"'";f.executeSql(e,[],function(n,t){if(t.rows.length>0){var i=t.rows.item(0);u(i.MULTIPLE,r)}else u(1,r)})},function(n){var t=new Operacion;t.codigo=-1;t.mensaje=n.message;console.log(t);f(t)})}catch(o){var e=new Operacion;e.codigo=-1;e.mensaje="Error al obtener el mutilplo: "+o.message;console.log(e.mensaje);f(e)}},n}();